<!doctype html>
<html lang="en-US">
<meta charset="utf-8">
<meta name="description" content="Mocha's Machine">
<link rel="shortcut icon" href="img/favicon.ico">
<link href=simple.css type="text/css" rel="stylesheet" title="Light">
<link href=dark.css type="text/css" rel="alternate stylesheet" title="Dark"> 
<link href=blend.css type="text/css" rel="alternate stylesheet" title="Blend">
<link href=print.css type="text/css" rel="stylesheet" media="print">
<script src="toc.js"></script>
<script src="turing.js"></script>
<style>
#program{text-align:center;}
.pointed{color:#080;background-color: #CEC;text-style:bold;}
pre{font-family:Monospace;background-color:#000;color:#ccc;}
#console{text-align:left;padding-left:9px;padding-right:9px;}
.ci{color:#48F;}
.cw{color:#FC0;}
.ce{color:#F44;}
.co{color:#8E8;}
.cf{color:#F8F;}
.invisible{display:none;}
</style>
<title>Mocha's Machine</title>
<div id="nav"></div>
<div id="top"><h1 id="Mocha's Machine">Mocha's Machine</h1></div>

<div id="program">
	<textarea id="code" rows="16" cols="64"></textarea><br/>
	<input type="submit" value="Load" onclick="run();">
	<input type="submit" value="Step" onclick="fstep();">
	<input type="submit" value="100 Steps" onclick="fstep100();">
	<input type="submit" value="Reset" onclick="reset();">
	<input type="submit" value="Clear Output" onclick="cclr();">
	<br/>
	Line <span id="line">0</span>
	 | Pointer: <span id="pointing">0</span>
	 | State: <span id="machinestate">[PRESS RESET]</span>
	<pre id='console'><i>MOCHINE rev 180116b</i></pre>
	<span class='invisible'>&downarrow; MEMORY &downarrow;</span>
</div>
<div class='invisible' id="memory"></div>

<h2 id='Dictionary'>Dictionary</h2>

<p>
	<b>Mochine</b> is a computationally universal programming language used to interface with Mocha's Machine. 
</p>

<pre>
# = number
? = string or number
! = specialchar
All support use of * for machine state
All support use of $ for pointer
All support use of @ for value at pointer

0 Arguments
INV : set value at pointer to its reciporical
NEG : set value at pointer to its negative
NOT : set value at pointer to 1 if 0, else 0

1 Argument
:X : Label 'X'. Can also be used as comments and empty lines
ADD # : set value at pointer to itself plus argument
AND ? : set value at pointer to argument if itself is 1, otherwise,
        return itself
APP ? : append string to value at pointer
DIV # : set value at pointer to itself divided by argument
EXP # : set value at pointer to itself raised to argument
IOR ? : set value at pointer to argument if itself is 0, otherwise,
        return itself
JIF ? : jump to line if value at pointer is same as machine state
JIG ? : jump to line if value at pointer is greater than machine state
JIL ? : jump to line if value at pointer is less than machine state
JIZ ? : jump to line if value at pointer is zero
JMP ? : jump to line
JNE ? : jump to line if value at pointer is not same as machine state
JNZ ? : jump to line if value at pointer is not zero
LEN ? : set value at pointer to the length of its argument as a string
MMS # : set machine state to itself plus argument
MOD # : set value at pointer to itself modulo argument
MOV # : set pointer to itself plus argument
MUL # : set value at pointer to itself multiplied by argument
NAN ? : set value at pointer to 0 if argument and itself are 1, else 1
NOR ? : set value at pointer to 1 if argument and itself are 0, else 0
NRT # : set value at pointer to the argument-th root of itself
OUT ? : output value to console
RPN ? : set value at pointer to itself plus the evaluation of the
	argument as RPN, comma pushes #s onto stack. Spaces ignored. 
	Valid operators: + - x / % ^ ! <abbr title='-x'>~</abbr> <abbr title='rnd(x)'>#</abbr> <abbr title='|x|'>|</abbr> <abbr title='logy(x)'>l</abbr> <abbr title='ln(x)'>L</abbr> <abbr title='sin(x)'>s</abbr> <abbr title='asin(x)'>S</abbr> <abbr title='cos(x)'>c</abbr> <abbr title='acos(x)'>C</abbr> <abbr title='tan(x)'>t</abbr> <abbr title='atan(x)'>T</abbr>
	Valid truth operators: <abbr title='x==y ? 1 : 0'>=</abbr> <abbr title='x!=y ? 1 : 0'>?</abbr> <abbr title='x>y ? 1 : 0'>&lt;</abbr> <abbr title='x<y ? 1 : 0'>></abbr>
	Valid advanced operators: <abbr title='Principal zero of the quadratic'>q</abbr> <abbr title='Other zero of the quadratic'>Q</abbr> <abbr title='Treats stack as constants of a polynomial and finds the first derivative'>'</abbr> <abbr title='Same as last, but second derivative'>"</abbr>
	Valid constants: <abbr title='e'>e</abbr> <abbr title='&gamma;'>g</abbr> <abbr title='&pi;'>p</abbr> <abbr title='random x on [0,1]'>r</abbr>
	Valid <a href="http://www.golfscript.com/golfscript/builtin.html">GolfScript</a> stack manipulation ops: <abbr title='Swap top two elements of the stack'>\</abbr> <abbr title='Pop and discard top of stack'>;</abbr> <abbr title='Duplicate top of stack'>.</abbr> <abbr title='Decrement top of stack'>(</abbr> <abbr title='Increment top of stack'>)</abbr>
XNR ? : set value at pointer to 1 if argument same as itself, else 0
XOR ? : set value at pointer to 0 if argument same as itself, else 1

2 Arguments
LET ! ? : set * or $ or @ to argument
SWP ! ! : swaps two specials

~~Pretty useless commands that also exist~~
  <i>Putting the 'fun' back into 'function'!</i>

1 Argument
FUN # : swap this line of code with the #-th line after this
I2W # : set value at pointer to the English transcription of the
        argument<!--MUS ? : Use with one of the following arguments:-->
QUO ? : Use with one of the following arguments:
	ALH Allahu Akbar!
	ANG Ain't nobody got time fo dat
	BAT I'm Batman
	BFL Das war ein befehl!
	BHS Boom Headshot!
	BTS Diabeetus
	BTW Bird's the Word
	BOS Balls of Steel
	BRL Do a Barrel Roll!
	BZG Bazinga!
	CMB Combo Breaker
	CTT Can't touch this
	DOH Doh
	DOI Do it
	DRK Hello darkness
	DUL It's time to d-d-d-d-duel!
	EAG EA Games: Challenge Everything
	FNH Finish Him
	FRD Fus Ro Dah!
	GAY Hah! Gaaaaaay!
	HHA Ha-Ha!
	HHH Haha hoho hihi hehe
	HLJ Hallelujah!
	IKU Silence! I kill you!
	ILT I like turtles
	JCN John Cena
	JDI Just do it!
	KHN Khaaaaan!
	LDL Leedle
	LEG My leg!
	LRJ Leeroy
	LSN Hey! Listen!
	LYN Why you always lyin
	LZR Lazor
	MGY I'm gay!
	MSF Mission Failed
	MSK I'm Mr. Meeseeks! Look at me!
	NGP No god please no
	NOM Omnomnom
	NOO Nooooooo!
	NOT Noot noot
	O66 Execute Order 66
	OMY Oh myyyyyy!
	PKL Pickle Rick
	PNG Pingas
	PUS Grab 'em by the pussy
	PYT Frenchman Insults
	RDN Ridin dirty
	RRL Rick Roll
	SFU Shut the fuck up!
	SHU Shut up!
	SKR The ting goes skra
	SMF Surprise mothafucka
	STP It's time to stop!
	SWE Smoke weed every day
	TIS This is Sparta!
	TPL Oh baby a triple!
	TRL Trololo
	TRP It's a trap!
	TTR Tuturu!
	TWE That was easy
	UTN Utini!
	WED It is wednesday my dudes
	WLD Wubalubadubdub
	WLL Wololo
	WYP Watch your profanity
	YAA Yeah
	YEE Yee
	YES Yes! Yes!
SFX ? : Use with one of the following arguments:
	5NF FNAF Jumpscare
	APP Applause
	BEL Bell
	CRK Crickets
	DNG Ding
	DPH Dolphin
	DRM Drumroll
	JPD Jeopardy
	LNO Dun Dun
	LOS Losing Horn
	MLG MLG Horn
	NCP Inception
	PTY Party Horn
	QAK Quack
	RBX Roblox Death SFX
	SAD Sad Trombone
	SAX Sexy Sax
	SFL Seinfeld
	SHY Fluttersquee
	SWX Nintendo Switch
	TDA Tada SFX
	VLN Sad Violin
	VVZ Vuvuzela
	WHP Whip
	WKA Waka waka
	WLH Wilhelm scream
	WSL That Dramatic Whistle Thing
	XFL Illuminati
	XPE XP Error

2 Arguments
FRG #,? : replace the argument(s) in the code at line # with ?
FSW #,# : swap the code at the specified lines

4 Arguments

FAA #,#,#,# : replace the code from char #<sub>1</sub> to char #<sub>2</sub> with the code
              from char #<sub>3</sub> to char #<sub>4</sub>.
</pre>

<h3 id='Tables'>Tables</h3>
MM can emulate BF programs easily, with the following substitutions:
<br/>
<table>
	<tr>
		<th>BF Command</th>
		<th>MM Equivalent</th>
	</tr>
	<tr>
		<td>></td>
		<td>MOV 1</td>
	</tr>
	<tr>
		<td>&lt;</td>
		<td>MOV -1</td>
	</tr>
	<tr>
		<td>+</td>
		<td>ADD 1</td>
	</tr>
	<tr>
		<td>-</td>
		<td>ADD -1</td>
	</tr>
	<tr>
		<td>.</td>
		<td>LET * @</td>
	</tr>
	<tr>
		<td>,</td>
		<td>LET @ *</td>
	</tr>
	<tr>
		<td>[</td>
		<td>:X</td>
	</tr>
	<tr>
		<td>]</td>
		<td>JNZ X</td>
	</tr>
</table>

<h2 id='Programs'>Programs</h2>

<h3 id='Hello,_World!'>Hello, World!</h3>
<p>
	A 'Hello, World!' program. 
</p>
<pre>
LET @ Hello, World!
</pre>

<h3 id='99_Bottles_of_Beer'>99 Bottles of Beer</h3>
<p>
	Imperfect, but acceptable. Terminates.
</p>
<pre>
LET * 99
LET @ *
APP  bottles of beer on the wall, 
APP *
APP  bottles of beer! Take one down, pass it around, 
MMS -1
APP *
APP  bottles of beer on the wall!
OUT @
MOV 1
JNE 1
LET @ No more bottles of beer on the wall, no more bottles of beer! 
APP Go to the store and buy some more, 99 bottles of beer on the wall! 
OUT @
</pre>

<h3 id='FizzBuzz'>FizzBuzz</h3>
<p>
	Does not terminate. 
</p>
<pre>
LET @ *
MOD 15
JIZ XV
MOD 5
JIZ V
LET @ *
MOD 3
JIZ III
OUT *
MMS 1
JMP 0
:III
OUT Fizz
JMP 9
:V
OUT Buzz
JMP 9
:XV
OUT FizzBuzz
JMP 9
</pre>

<h3 id='Currentyear'>Currentyear</h3>
<p>
	Prints 2018 without using any numbers.
</p>
<pre>
LEN Written by Mocha~!
LET * @
LEN I love using MOCHINE
APP *
OUT @
</pre>

<h3 id='99_Bottles_of_FizzBuzz'>99 Bottles of FizzBuzz</h3>
<p>
	Broken... dunno why. Terminates. Not pretty. 977 bytes.
</p>
<pre>
LET * 99
LET @ *
APP  bottles of 
JMP NAME1
APP  on the wall, 
APP *
APP  bottles of 
JMP NAME2
APP ! Take one down, pass it around, 
MMS -1
APP *
APP  bottles of 
JMP NAME3
APP on the wall!
MOV 1
LET @ 1
JNE 1
LET @ 1 bottle of beer on the wall, 1 bottle of beer! 
APP Go to the store and buy some more, 99 bottles of beer on the wall!
JMP X
:NAME1
MOV 1
LET @ *
MOD 15
JIZ XV
MOD 5
JIZ V
LET @ *
MOD 3
JNZ BEER
MOV -1
APP Fizz
JMP 4
:V1
MOV -1
APP Buzz
JMP 4
:XV1
MOV -1
APP FizzBuzz
JMP 4
:BEER1
MOV -1
APP Beer
JMP 4
:NAME2
MOV 1
LET @ *
MOD 15
JIZ XV
MOD 5
JIZ V
LET @ *
MOD 3
JNZ BEER
MOV -1
APP Fizz
JMP 8
:V2
MOV -1
APP Buzz
JMP 8
:XV2
MOV -1
APP FizzBuzz
JMP 8
:BEER2
MOV -1
APP Beer
JMP 4
:NAME3
MOV 1
LET @ *
MOD 15
JIZ XV
MOD 5
JIZ V
LET @ *
MOD 3
JNZ BEER
MOV -1
APP Fizz
JMP 13
:V3
MOV -1
APP Buzz
JMP 13
:XV3
MOV -1
APP FizzBuzz
JMP 13
:BEER3
MOV -1
APP Beer
JMP 4
:X
</pre>

<h3 id='Addition'>Addition</h3>
<p>
	Adds the numbers 5 and 8
</p>
<pre>
LET @ 5
ADD 8
OUT @
</pre>

<h3 id='Identification'>Identification</h3>
<p>
	Checks to see if Chuck is Alice or Bob, and, if so, Greet them.
</p>
<pre>
LET @ Chuck
LET * Alice
JIF 5
LET * Bob
JNE X
LET @ Welcome, 
APP *
OUT @
:X
</pre>

<h3 id='Triangular_Number'>Triangular Number</h3>
<p>
	Finds the nth triangular number, using only the addition operator. Also, I have ADD included a compressed version of the same program, and a version using exponentiation and division. 
</p>
<pre>
LET @ 10
LET * @
MOV 1
LET @ *
ADD -1
JNZ 1
MOV -1
:A
MOV -1
ADD 1
MOV 1
ADD -1
JNZ A
MOV -2
JIZ X
MOV 1
JMP A
:X
MOV 1
OUT @
</pre>
<pre>
LET @ 10
LET * @
MOV 1
LET @ *
ADD -1
JNZ 1
MOV -1
MOV -1
ADD 1
MOV 1
ADD -1
JNZ 7
MOV -2
JIZ 15
MOV 1
JNZ 7
MOV 1
OUT @
</pre>
<pre>
LET @ 10
LET * @
EXP 2
ADD *
DIV 2
OUT @
</pre>

<h3 id='Leap_Year'>Leap Year</h3>
<p>
	Checks whether 2018 is a leap year or not. Includes compressed version. 
</p>
<pre>
LET @ 2018
LET * @
MOD 400
JIZ T
LET @ *
MOD 100
JIZ F
LET @ *
MOD 4
JNZ F
:T
LET @ 1
JMP X
:F
LET @ 0
:X
OUT @
</pre>
<pre>
LET @ 2018
LET * @
MOD 400
JIZ 10
LET @ *
MOD 100
JIZ 12
LET @ *
MOD 4
JNZ 12
LET @ 1
JMP 13
LET @ 0
OUT @
</pre>

<h3 id='Sorting'>Sorting</h3>
<p>
	Finds the largest entry and prints it in the first square. 
</p>
<pre>
LET * @
MOV 1
JIZ 6
JIL 1
LET * @
JMP 0
LET $ 0
OUT *
</pre>

<h3 id='Almost-Quines'>Almost-Quines</h3>
<p>
	This code outputs its first line.
</p>
<pre>
FAA 19,19,0,14
OUT X
</pre>
<p>
<p>
	My failed 235487th attempt, outputs first line still, but strangely takes ages to terminate. 
</p>
<pre>
FAA 40,40,32,39
FAA 36,36,00,32
OUT &lt;br>
</pre>
<p>
	This code outputs itself, but as an error: 
</p>
<pre>
error:
Operation not in dictionary: error:
@ Line 0
	error:
</pre>

<div id="bottom"></div>
</html>