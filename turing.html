<!doctype html>
<html lang="en-US">
<meta charset="utf-8">
<meta name="description" content="Mocha's Machine">
<link rel="shortcut icon" href="img/favicon.ico">
<link href=simple.css type="text/css" rel="stylesheet" title="Light">
<link href=dark.css type="text/css" rel="alternate stylesheet" title="Dark"> 
<link href=blend.css type="text/css" rel="alternate stylesheet" title="Blend">
<link href=print.css type="text/css" rel="stylesheet" media="print">
<script src="toc.js"></script>
<script src="turing.js"></script>
<style>
#program{text-align:center;}
.pointed{color:#008;background-color: #CCE;text-style:bold;}
pre{font-family:Monospace;background-color:#000;color:#ccc;}
</style>
<title>Mocha's Machine</title>
<div id="nav"></div>
<div id="top"><h1 id="Mocha's Machine">Mocha's Machine</h1></div>

<div id="program">
	<textarea id="code" rows="16" cols="64"></textarea><br/>
	<input type="submit" value="Load" onclick="run();">
	<input type="submit" value="Step" onclick="fstep();">
	<input type="submit" value="Reset" onclick="reset();">
	Line <span id="line">0</span>
	 | Pointer: <span id="pointing">0</span>
	 | State: <span id="machinestate">[PRESS RESET]</span>
	 <br/>
	 &downarrow; MEMORY &downarrow;
</div>
<div id="memory"></div>

<h2 id='Dictionary'>Dictionary</h2>
<ul>
	<li>:X - label X</li>
	<li>ADD - set value at pointer to itself plus argument</li>
	<li>AND - set value at pointer to argument if itself is 1, otherwise, return itself.</li>
	<li>APP - append string to value at pointer</li>
	<li>DEC - decrement value at pointer</li>
	<li>DIV - set value at pointer to itself divided by argument</li>
	<li>EXP - set value at pointer to itself raised to argument</li>
	<li>GOT - set pointer to state</li>
	<li>INC - increment value at pointer</li>
	<li>INP - set value at pointer to state</li>
	<li>IOR - set value at pointer to argument if itself is 0, otherwise, return itself.</li>
	<li>JFN - jump to line if value at pointer is not same as machine state</li>
	<li>JIF - jump to line if value at pointer is same as machine state</li>
	<li>JIG - jump to line if value at pointer is greater than machine state</li>
	<li>JIL - jump to line if value at pointer is less than machine state</li>
	<li>JIZ - jump to line if value at pointer is zero</li>
	<li>JMP - jump to line</li>
	<li>JNZ - jump to line if value at pointer is not zero</li>
	<li>LLL - increment pointer</li>
	<li>MOD - set value to value at pointer modulo argument</li>
	<li>MOV - increment pointer by argument</li>
	<li>MUL - set value at pointer to itself multiplied by argument</li>
	<li>NAN - set value at pointer to 0 if argument and itself are 1, else 1</li>
	<li>NEG - negate value at pointer</li>
	<li>NOP - do nothing</li>
	<li>NOR - set value at pointer to 1 if argument and itself are 0, else 0</li>
	<li>NOT - set value at pointer to 1 if 0, else 0</li>
	<li>NRT - set value at pointer to the argument-th root of itself</li>
	<li>OUT - set state to value at pointer</li>
	<li>PNT - set pointer to argument</li>
	<li>RRR - decrement pointer</li>
	<li>SET - set state to argument</li>
	<li>SSP - set state to pointer</li>
	<li>STO - set value at pointer to argument</li>
	<li>SUB - set value at pointer to argument subtracted from itself</li>
	<li>XNR - set value at pointer to 1 if argument same as itself, else 0</li>
	<li>XOR - set value at pointer to 0 if argument same as itself, else 1</li>
</ul>

<h3 id='Tables'>Tables</h3>

<!--Excluded: Jumps, MOD-->

<table>
	<tr>
		<th></th>
		<th>Pointer</th>
		<th>Value</th>
	</tr>
	<tr>
		<td>Set</td>
		<td>PNT #</td>
		<td>STO ?</td>
	</tr>
	<tr>
		<td>Increment</td>
		<td>RRR</td>
		<td>INC</td>
	</tr>
	<tr>
		<td>Decrement</td>
		<td>LLL</td>
		<td>DEC</td>
	</tr>
	<tr>
		<td>Copy from State</td>
		<td>GOT</td>
		<td>INP</td>
	</tr>
	<tr>
		<td>Copy to State</td>
		<td>SSP</td>
		<td>OUT</td>
	</tr>
</table>
<br/>
<table>
	<tr>
		<th>+</th>
		<th>-</th>
	</tr>
	<tr>
		<td>NOP</td>
		<td>NEG</td>
	</tr>
	<tr>
		<td>INC</td>
		<td>DEC</td>
	</tr>
	<tr>
		<td>ADD #</td>
		<td>SUB #</td>
	</tr>
	<tr>
		<td>MUL #</td>
		<td>DIV #</td>
	</tr>
	<tr>
		<td>EXP #</td>
		<td>NRT #</td>
	</tr>
</table>
<br/>
<table>
	<tr>
		<th>Name</th>
		<th>Command</th>
	</tr>
	<tr>
		<td>and</td>
		<td>AND ?</td>
	</tr>
	<tr>
		<td>nand</td>
		<td>NAND ?</td>
	</tr>
	<tr>
		<td>nor</td>
		<td>NOR ?</td>
	</tr>
	<tr>
		<td>not</td>
		<td>NOT #</td>
	</tr>
	<tr>
		<td>or</td>
		<td>IOR ?</td>
	</tr>
	<tr>
		<td>xor</td>
		<td>XOR ?</td>
	</tr>
	<tr>
		<td>xnor</td>
		<td>XNR ?</td>
	</tr>
</table>
<br/>
MM can also emulate BF programs easily, with the following substitutions:
<br/>
<table>
	<tr>
		<th>BF Command</th>
		<th>MM Equivalent</th>
	</tr>
	<tr>
		<td>></td>
		<td>RRR</td>
	</tr>
	<tr>
		<td>&lt;</td>
		<td>LLL</td>
	</tr>
	<tr>
		<td>+</td>
		<td>INC</td>
	</tr>
	<tr>
		<td>-</td>
		<td>DEC</td>
	</tr>
	<tr>
		<td>.</td>
		<td>OUT</td>
	</tr>
	<tr>
		<td>,</td>
		<td>INP</td>
	</tr>
	<tr>
		<td>[</td>
		<td>:X</td>
	</tr>
	<tr>
		<td>]</td>
		<td>JNZ X</td>
	</tr>
</table>

<h2 id='Programs'>Programs</h2>

<h3 id='Hello,_World!'>Hello, World!</h3>
<p>
	A 'Hello, World!' program. 
</p>
<pre>
STO Hello, World!
</pre>

<h3 id='Addition'>Addition</h3>
<p>
	Adds the numbers 5 and 8 without the ADD operator.
</p>
<pre>
STO 5
RRR
STO 8
LLL
INC
RRR
DEC
JNZ 3
</pre>

<h3 id='Identification'>Identification</h3>
<p>
	Checks to see if Chuck is Alice or Bob, and, if so, Greet them.
</p>
<pre>
STO Chuck
SET Alice
JIF 5
SET Bob
JNF X
STO Welcome, 
RRR
INP
:X
</pre>

<h3 id='Triangular_Number'>Triangular Number</h3>
<p>
	Finds the nth triangular number, using only the increment and decrement operators. Also, I have included a compressed version of the same program. 
</p>
<pre>
STO 10
OUT
RRR
INP
DEC
JNZ 1
LLL
:A
LLL
INC
RRR
DEC
JNZ A
MOV -2
JIZ X
RRR
JMP A
:X
</pre>
<pre>
STO 10
OUT
RRR
INP
DEC
JNZ 1
LLL
LLL
INC
RRR
DEC
JNZ 7
MOV -2
JIZ 15
RRR
JNZ 7
</pre>

<h3 id='Leap_Year'>Leap Year</h3>
<p>
	Checks whether 2018 is a leap year or not.
</p>
<pre>
STO 2018
OUT
MOD 400
JIZ T
INP
MOD 100
JIZ F
INP
MOD 4
JNZ F
:T
STO 1
JMP X
:F
STO 0
:X
</pre>

<div id="bottom"></div>
</html>